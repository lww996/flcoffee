{"version":3,"sources":["webpack:///./src/views/mainViews/Menu.vue?d3a9","webpack:///./src/components/GoodList.vue?47c9","webpack:///src/components/GoodList.vue","webpack:///./src/components/GoodList.vue?2c42","webpack:///./src/components/GoodList.vue","webpack:///src/views/mainViews/Menu.vue","webpack:///./src/views/mainViews/Menu.vue?68d5","webpack:///./src/views/mainViews/Menu.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","style","paddingTop","loading","attrs","_v","typeList","menuList","on","getMenuDataByType","staticRenderFns","ref","_l","t","i","key","id","class","currentIndex","$event","queryMenu","_s","typeDesc","m","pid","showDetailHandle","smallImg","name","desc","price","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,OAAOC,MAAM,CAAEC,WAAYR,EAAIS,QAAU,OAAS,QAAS,CAACL,EAAG,eAAe,CAACM,MAAM,CAAC,IAAM,EAAE,YAAY,MAAM,QAAUV,EAAIS,WAAWL,EAAG,eAAe,CAACM,MAAM,CAAC,IAAM,EAAE,YAAY,MAAM,QAAUV,EAAIS,WAAWL,EAAG,eAAe,CAACM,MAAM,CAAC,MAAQ,GAAG,cAAc,OAAO,QAAUV,EAAIS,WAAWL,EAAG,eAAe,CAACM,MAAM,CAAC,OAAS,GAAG,eAAe,SAAS,cAAc,KAAK,IAAM,EAAE,QAAUV,EAAIS,UAAU,CAACL,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,aAAaF,EAAG,MAAM,CAACA,EAAG,KAAK,CAACE,YAAY,eAAe,CAACN,EAAIW,GAAG,cAAcP,EAAG,IAAI,CAACE,YAAY,iBAAiB,CAACN,EAAIW,GAAG,8BAA8BP,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAACE,YAAY,WAAWI,MAAM,CAAC,IAAM,EAAQ,QAAoC,IAAM,aAAaN,EAAG,WAAW,CAACM,MAAM,CAAC,SAAWV,EAAIY,SAAS,SAAWZ,EAAIa,UAAUC,GAAG,CAAC,aAAad,EAAIe,sBAAsB,GAAGX,EAAG,eAAe,CAACM,MAAM,CAAC,OAAS,GAAG,eAAe,SAAS,cAAc,KAAK,IAAM,EAAE,QAAUV,EAAIS,WAAWL,EAAG,eAAe,CAACM,MAAM,CAAC,OAAS,GAAG,eAAe,SAAS,cAAc,KAAK,IAAM,EAAE,QAAUV,EAAIS,WAAWL,EAAG,eAAe,CAACM,MAAM,CAAC,OAAS,GAAG,eAAe,SAAS,cAAc,KAAK,IAAM,EAAE,QAAUV,EAAIS,WAAWL,EAAG,eAAe,CAACM,MAAM,CAAC,OAAS,GAAG,eAAe,SAAS,cAAc,KAAK,IAAM,EAAE,QAAUV,EAAIS,YAAY,IACr7CO,EAAkB,GCDlB,G,UAAS,WAAa,IAAIhB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACa,IAAI,WAAWX,YAAY,aAAa,CAACF,EAAG,KAAKJ,EAAIkB,GAAIlB,EAAY,UAAE,SAASmB,EAAEC,GAAG,OAAOhB,EAAG,KAAK,CAACiB,IAAIF,EAAEG,GAAGhB,YAAY,YAAYiB,MAAMvB,EAAIwB,eAAiBJ,EAAI,SAAW,GAAGN,GAAG,CAAC,MAAQ,SAASW,GAAQ,OAAOzB,EAAI0B,UAAUP,EAAEC,MAAM,CAACpB,EAAIW,GAAG,IAAIX,EAAI2B,GAAGR,EAAES,UAAU,UAAS,KAAKxB,EAAG,MAAM,CAACa,IAAI,aAAaX,YAAY,eAAe,CAACF,EAAG,KAAKJ,EAAIkB,GAAIlB,EAAY,UAAE,SAAS6B,GAAG,OAAOzB,EAAG,KAAK,CAACiB,IAAIQ,EAAEC,IAAIxB,YAAY,cAAcQ,GAAG,CAAC,MAAQ,SAASW,GAAQ,OAAOzB,EAAI+B,iBAAiBF,EAAEC,QAAQ,CAAC1B,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACM,MAAM,CAAC,IAAMmB,EAAEG,cAAc5B,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,KAAK,CAACE,YAAY,QAAQ,CAACN,EAAIW,GAAGX,EAAI2B,GAAGE,EAAEI,SAAS7B,EAAG,IAAI,CAACE,YAAY,QAAQ,CAACN,EAAIW,GAAGX,EAAI2B,GAAGE,EAAEK,SAAS9B,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,OAAO,CAACJ,EAAIW,GAAG,IAAIX,EAAI2B,GAAGE,EAAEM,UAAU/B,EAAG,OAAO,CAACE,YAAY,YAAY,CAACN,EAAIW,GAAG,gBAAe,WAC9/B,EAAkB,G,wBCuCtB,GACA,OACA,UACA,YAEA,UACA,aAGE,KATF,WAUI,MAAJ,CACM,aAAN,IAGE,QAdF,WAcI,IAAJ,OAGI,KAAJ,sBACM,EAAN,sBAGE,cArBF,WAuBA,iBACM,KAAN,qBAGA,mBACM,KAAN,wBAGE,QAAF,CAEI,iBAFJ,SAEA,GACM,KAAN,cACQ,KAAR,SACQ,OAAR,CACU,GAAV,MAKA,UAXA,SAWA,KAEA,oBACA,4BAGI,gBAjBJ,WAiBM,IAAN,OACM,KAAN,sBACA,aAKU,EAAV,qBAJU,EAAV,wCACY,OAAZ,IAMA,eAKU,EAAV,uBAJU,EAAV,4CACY,OAAZ,SASA,OAEA,oBACM,QAAN,WACM,KAAN,qBCjHkV,I,YCO9UyB,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,QCWf,GACA,YACA,YAEA,KAJA,WAKA,OACA,YACA,YACA,aAGA,QAXA,WAYA,oBAEA,SAEA,kBAFA,SAEA,cAMA,GAHA,iBAGA,gCACA,iDAGA,OAFA,qBACA,iBAIA,OACA,mBACA,WACA,cAIA,mBACA,cACA,WAGA,kBACA,aACA,eACA,cACA,eACA,sBACA,aAIA,YACA,aACA,oBACA,WAEA,kBACA,kBACA,iBAEA,eACA,oBACA,aACA,yBAGA,+DAKA,YAzDA,WAyDA,WAEA,YACA,aACA,YACA,QACA,sBAGA,kBACA,eACA,oBAEA,uBACA,wBACA,aACA,kBAIA,sCAEA,gCC1H6V,ICOzV,EAAY,eACd,EACArC,EACAiB,GACA,EACA,KACA,KACA,MAIa,e","file":"static/js/chunk-01ad262a.568d9cae.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"menu\",style:({paddingTop: _vm.loading ? '20px' : '0px'})},[_c('van-skeleton',{attrs:{\"row\":1,\"row-width\":\"50%\",\"loading\":_vm.loading}}),_c('van-skeleton',{attrs:{\"row\":1,\"row-width\":\"70%\",\"loading\":_vm.loading}}),_c('van-skeleton',{attrs:{\"title\":\"\",\"title-width\":\"100%\",\"loading\":_vm.loading}}),_c('van-skeleton',{attrs:{\"avatar\":\"\",\"avatar-shape\":\"square\",\"avatar-size\":\"72\",\"row\":3,\"loading\":_vm.loading}},[_c('div',{staticClass:\"store-info\"},[_c('div',{staticClass:\"map-icon\"}),_c('div',[_c('h3',{staticClass:\"store-title\"},[_vm._v(\"蚨来咖啡上海总店\")]),_c('p',{staticClass:\"store-content\"},[_vm._v(\"上海市-静安区-万荣路-大宁中心广场B6\")])])]),_c('div',{staticClass:\"menu-banner\"},[_c('img',{staticClass:\"menu-img\",attrs:{\"src\":require('../../assets/images/banner03.png'),\"alt\":\"菜单广告图\"}})]),_c('GoodList',{attrs:{\"typeList\":_vm.typeList,\"menuList\":_vm.menuList},on:{\"query-menu\":_vm.getMenuDataByType}})],1),_c('van-skeleton',{attrs:{\"avatar\":\"\",\"avatar-shape\":\"square\",\"avatar-size\":\"72\",\"row\":3,\"loading\":_vm.loading}}),_c('van-skeleton',{attrs:{\"avatar\":\"\",\"avatar-shape\":\"square\",\"avatar-size\":\"72\",\"row\":3,\"loading\":_vm.loading}}),_c('van-skeleton',{attrs:{\"avatar\":\"\",\"avatar-shape\":\"square\",\"avatar-size\":\"72\",\"row\":3,\"loading\":_vm.loading}}),_c('van-skeleton',{attrs:{\"avatar\":\"\",\"avatar-shape\":\"square\",\"avatar-size\":\"72\",\"row\":3,\"loading\":_vm.loading}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"good-list\"},[_c('div',{staticClass:\"list\"},[_c('div',{ref:\"menuList\",staticClass:\"menu-list\"},[_c('ul',_vm._l((_vm.typeList),function(t,i){return _c('li',{key:t.id,staticClass:\"menu-item\",class:_vm.currentIndex === i ? 'active' : '',on:{\"click\":function($event){return _vm.queryMenu(t,i)}}},[_vm._v(\" \"+_vm._s(t.typeDesc)+\" \")])}),0)]),_c('div',{ref:\"detailList\",staticClass:\"detail-list\"},[_c('ul',_vm._l((_vm.menuList),function(m){return _c('li',{key:m.pid,staticClass:\"detail-item\",on:{\"click\":function($event){return _vm.showDetailHandle(m.pid)}}},[_c('div',{staticClass:\"detsil-img\"},[_c('img',{attrs:{\"src\":m.smallImg}})]),_c('div',{staticClass:\"detail-info\"},[_c('h4',{staticClass:\"name\"},[_vm._v(_vm._s(m.name))]),_c('p',{staticClass:\"desc\"},[_vm._v(_vm._s(m.desc))]),_c('div',{staticClass:\"price\"},[_c('span',[_vm._v(\"￥\"+_vm._s(m.price))]),_c('span',{staticClass:\"increase\"},[_vm._v(\"+\")])])])])}),0)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div class=\"good-list\">\r\n    <div class=\"list\">\r\n        <div class=\"menu-list\" ref=\"menuList\">\r\n            <ul>\r\n                <li class=\"menu-item\" v-for=\"(t,i) in typeList\" :key=\"t.id\" :class=\"currentIndex === i ? 'active' : ''\" @click=\"queryMenu(t,i)\">\r\n                    {{t.typeDesc}}\r\n                </li>\r\n            </ul>\r\n        </div>\r\n        <div class=\"detail-list\" ref=\"detailList\">\r\n            <ul>\r\n                <li \r\n                    class=\"detail-item\" \r\n                    v-for=\"m in menuList\" \r\n                    :key=\"m.pid\"\r\n                    @click=\"showDetailHandle(m.pid)\">\r\n                    <div class=\"detsil-img\">\r\n                        <img :src=\"m.smallImg\">\r\n                    </div>\r\n                    <div class=\"detail-info\">\r\n                        <h4 class=\"name\">{{m.name}}</h4>\r\n                        <p class=\"desc\">{{m.desc}}</p>\r\n                        <div class=\"price\">\r\n                            <span>￥{{m.price}}</span>\r\n                            <span class=\"increase\">+</span>\r\n                        </div>\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport '../assets/scss/component/goodlist.scss'\r\nimport BScroll from 'better-scroll'\r\n\r\nexport default {\r\n\tprops: {\r\n\t\ttypeList: {\r\n\t\t\ttype: Array\r\n\t\t},\r\n\t\tmenuList: {\r\n\t\t\ttype: Array\r\n        }\r\n\t},\r\n    data() {\r\n        return {\r\n            currentIndex: 0\r\n        }\r\n    },\r\n    mounted() {\r\n\r\n        // 解决刷新页面后无法滚动问题\r\n        this.$nextTick(() => {\r\n            this.initalBScroller()\r\n        })\r\n    },\r\n    beforeDestroy() {\r\n        // 销毁BScroll实例\r\n        if (this.menuScroll) {\r\n            this.menuScroll.destroy();\r\n        }\r\n\r\n        if (this.detailScroll) {\r\n            this.detailScroll.destroy();\r\n        }\r\n    },\r\n    methods: {\r\n        // 查看商品详情\r\n        showDetailHandle(pid) {\r\n            this.$router.push({\r\n                name: 'Detail',\r\n                params: {\r\n                    id: pid\r\n                }\r\n            })\r\n        },\r\n\t\t// 查看菜单\r\n\t\tqueryMenu(item,index) {\r\n\t\t\t// 菜单高亮\r\n\t\t\tthis.currentIndex = index;\r\n\t\t\tthis.$emit('query-menu',item);\r\n\t\t},\r\n        // 初始化BScroll\r\n        initalBScroller() {\r\n            this.$nextTick(() => {\r\n                if (!this.menuScroll) {\r\n                    this.menuScroll = new BScroll(this.$refs.menuList, {\r\n                        click: true\r\n                    })\r\n                } else {\r\n                    this.menuScroll.refresh();\r\n                }\r\n\r\n                if (!this.detailScroll) {\r\n                    this.detailScroll = new BScroll(this.$refs.detailList, {\r\n                        click: true\r\n                    })\r\n                } else {\r\n                    this.detailScroll.refresh();\r\n                }\r\n            })\r\n\r\n        }\r\n\t},\r\n\twatch: {\r\n\t\t// 监听菜单数据的变化，每次数据改变则刷新BScroll\r\n\t\tmenuList: function() {\r\n            console.log('刷新了');\r\n            this.initalBScroller();      \r\n        }\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GoodList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GoodList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GoodList.vue?vue&type=template&id=20f7d7ea&\"\nimport script from \"./GoodList.vue?vue&type=script&lang=js&\"\nexport * from \"./GoodList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n<div class=\"menu\" :style=\"{paddingTop: loading ? '20px' : '0px'}\">\r\n\t<van-skeleton :row=\"1\" row-width=\"50%\" :loading=\"loading\" />\r\n\t<van-skeleton :row=\"1\" row-width=\"70%\" :loading=\"loading\" />\r\n\t<van-skeleton title title-width=\"100%\" :loading=\"loading\" />\r\n\t<van-skeleton avatar avatar-shape=\"square\" avatar-size=\"72\" :row=\"3\" :loading=\"loading\">\r\n\t\t<div class=\"store-info\">\r\n\t\t\t<div class=\"map-icon\" />\r\n\t\t\t<div>\r\n\t\t\t\t<h3 class=\"store-title\">蚨来咖啡上海总店</h3>\r\n\t\t\t\t<p class=\"store-content\">上海市-静安区-万荣路-大宁中心广场B6</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"menu-banner\">\r\n\t\t\t<img class=\"menu-img\" :src=\"require('../../assets/images/banner03.png')\" alt=\"菜单广告图\">\r\n\t\t</div>\r\n\t\t<GoodList :typeList=\"typeList\" :menuList=\"menuList\" @query-menu=\"getMenuDataByType\" />\r\n\t</van-skeleton>\r\n\t<van-skeleton avatar avatar-shape=\"square\" avatar-size=\"72\" :row=\"3\" :loading=\"loading\" />\r\n\t<van-skeleton avatar avatar-shape=\"square\" avatar-size=\"72\" :row=\"3\" :loading=\"loading\" />\r\n\t<van-skeleton avatar avatar-shape=\"square\" avatar-size=\"72\" :row=\"3\" :loading=\"loading\" />\r\n\t<van-skeleton avatar avatar-shape=\"square\" avatar-size=\"72\" :row=\"3\" :loading=\"loading\" />\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport '../../assets/scss/menu.scss'\r\nimport GoodList from '../../components/GoodList'\r\n\r\nexport default {\r\n\tcomponents: {\r\n\t\tGoodList\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\ttypeList: [],\r\n\t\t\tmenuList: [],\r\n\t\t\tloading: true\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n\t\tthis.getTypeData();\r\n\t},\r\n\tmethods: {\r\n\t\t// 获取对应商品菜单\r\n\t\tgetMenuDataByType(item) {\r\n\r\n\t\t\t// 每次请求先把数组清空\r\n\t\t\tthis.menuList = [];\r\n\r\n\t\t\t// 判断缓存中是否有数据，有则取，避免再次请求\r\n\t\t\tif(sessionStorage.getItem(item.type)) {\r\n\t\t\t\tlet data = JSON.parse(sessionStorage.getItem(item.type))\r\n\t\t\t\tthis.menuList = data;\r\n\t\t\t\tthis.loading = false;\r\n\t\t\t\treturn ;\r\n\t\t\t}\r\n\r\n\t\t\tlet params = {\r\n\t\t\t\tappkey: this.appkey,\r\n\t\t\t\tkey: 'type',\r\n\t\t\t\tvalue: item.type\r\n\t\t\t}\r\n\r\n\t\t\t// 推荐菜单特殊处理\r\n\t\t\tif(item.type === 'isHot') {\r\n\t\t\t\tparams.key = 'isHot',\r\n\t\t\t\tparams.value = 1\r\n\t\t\t}\r\n\r\n\t\t\tif(item.type !== 'isHot') {\r\n\t\t\t\tthis.$toast({\r\n\t\t\t\t\ttype: 'loading',\r\n\t\t\t\t\tmessage: '加载中',\r\n\t\t\t\t\tforbidClick: true,\r\n\t\t\t\t\tloadingType: 'spinner',\r\n\t\t\t\t\tduration: 0\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tthis.axios({\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\turl: '/typeProducts',\r\n\t\t\t\tparams\r\n\t\t\t})\r\n\t\t\t.then(res => {\r\n\t\t\t\tif(item.type !== 'isHot') {\r\n\t\t\t\t\tthis.$toast.clear();\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tif(res.data.code === 500) {\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\tthis.menuList = res.data.result;\r\n\r\n\t\t\t\t\t// 防止每次都请求数据，需要缓存起来\r\n\t\t\t\t\tsessionStorage.setItem(item.type, JSON.stringify(this.menuList))\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\t// 获取对应商品类型\r\n\t\tgetTypeData() {\r\n\r\n\t\t\tthis.axios({\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\turl: '/type',\r\n\t\t\t\tparams: {\r\n\t\t\t\t\tappkey: this.appkey\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then(res => {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tif(res.data.code === 400) {\r\n\t\t\t\t\t// 手动添加推荐菜单\r\n\t\t\t\t\tres.data.result.unshift({\r\n\t\t\t\t\t\tid: new Date().getTime(),\r\n\t\t\t\t\t\ttype: 'isHot',\r\n\t\t\t\t\t\ttypeDesc: '最新推荐'\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\t// 初始化请求推荐列表\r\n\t\t\t\t\tthis.getMenuDataByType(res.data.result[0]);\r\n\r\n\t\t\t\t\tthis.typeList = res.data.result;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Menu.vue?vue&type=template&id=479c2d4d&\"\nimport script from \"./Menu.vue?vue&type=script&lang=js&\"\nexport * from \"./Menu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}