(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7831ff52"],{"057f":function(t,e,n){var r=n("fc6a"),s=n("241c").f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(t){try{return s(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==i.call(t)?o(t):s(r(t))}},"2f14":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("99af"),n("fb6a");var r=n("d4ec8"),s=n("bee2"),i=function(){function t(){Object(r["a"])(this,t)}return Object(s["a"])(t,[{key:"queryString",value:function(t){var e="";for(var n in t)e+="".concat(n,"=").concat(t[n],"&");return e=e.slice(0,-1),e}}]),t}(),a=new i},5530:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("a4d3"),n("4de4"),n("4160"),n("e439"),n("dbb4"),n("b64b"),n("159b");var r=n("ade3");function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){Object(r["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var r=n("1d80"),s=n("5899"),i="["+s+"]",a=RegExp("^"+i+i+"*"),o=RegExp(i+i+"*$"),c=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(a,"")),2&t&&(n=n.replace(o,"")),n}};t.exports={start:c(1),end:c(2),trim:c(3)}},"746f":function(t,e,n){var r=n("428f"),s=n("5135"),i=n("e538"),a=n("9bf2").f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});s(e,t)||a(e,t,{value:i.f(t)})}},"76a1":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pay"},[n("div",{staticClass:"goback-icon",on:{click:function(e){return t.$router.go(-1)}}},[n("i",{staticClass:"iconfont icon-fanhui"})]),n("div",{staticClass:"container"},[n("div",[n("div",{staticClass:"pay-box margin-t"},[n("div",{staticClass:"store-info"},[n("div",{staticClass:"map-icon"}),t._m(0),n("div",{staticClass:"select-btn",on:{click:function(e){t.isTake=!t.isTake}}},[n("span",{staticClass:"btn",style:{left:t.isTake?"0":"30px"}},[t._v(t._s(t.isTake?"自提":"外送"))]),n("span",{staticClass:"content"},[t._v(t._s(t.isTake?"":"自提"))]),n("span",{staticClass:"content"},[t._v(t._s(t.isTake?"外送":""))])])]),n("div",{staticClass:"time"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isTake,expression:"isTake"}],staticClass:"take"},[n("span",[t._v("自提时间")]),n("span",[t._v("大约"+t._s(t.currentTime)+"制作完成")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isTake,expression:"!isTake"}],staticClass:"address-title",on:{click:t.showAddress}},[n("div",{staticClass:"default-box"},[n("h3",{staticClass:"default-info"},[n("span",{staticClass:"name"},[t._v(t._s(t.currentAddress.name))]),n("span",{staticClass:"tel"},[t._v(t._s(t.currentAddress.tel))])]),n("p",{staticClass:"default-address"},[t._v(" "+t._s(t.currentAddress.address)+" ")]),n("div",{staticClass:"default-arrow"},[n("van-icon",{attrs:{name:"arrow"}})],1)])])])]),n("div",{staticClass:"pay-box"},[n("ul",t._l(t.goodsList,(function(e,r){return n("li",{key:r,staticClass:"pay-item border-bottom-1px"},[n("div",{staticClass:"pay-img"},[n("img",{staticClass:"img-layout",attrs:{src:e.small_img,alt:""}})]),n("div",{staticClass:"pay-info"},[n("h3",{staticClass:"name"},[t._v(t._s(e.name)),n("span",{staticClass:"pay-count"},[t._v("X"+t._s(e.count))])]),n("p",{staticClass:"type"},[t._v(t._s(e.rule))])]),n("div",{staticClass:"pay-price"},[t._v(" ￥"+t._s(e.price)+" ")])])})),0),n("p",{staticClass:"total-price"},[t._v(" 合计：￥"),n("span",{staticClass:"price"},[t._v(t._s(t.total))])])]),n("div",{staticClass:"pay-box"},[n("van-cell",{attrs:{border:!1,title:"备注特殊要求",value:"添加备注"},on:{click:function(e){t.showRemarks=!0}}}),n("van-action-sheet",{attrs:{title:"添加备注"},model:{value:t.showRemarks,callback:function(e){t.showRemarks=e},expression:"showRemarks"}},[n("van-field",{attrs:{rows:"5",type:"textarea",maxlength:"100",placeholder:"请输入备注","show-word-limit":""},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1)],1)])]),n("van-action-sheet",{attrs:{title:"选择收货地址"},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[n("van-address-list",{attrs:{list:t.list,"default-tag-text":"默认"},on:{select:t.select,add:t.increaseAddress},model:{value:t.chosenAddressId,callback:function(e){t.chosenAddressId=e},expression:"chosenAddressId"}})],1),n("div",{staticClass:"pay-footer"},[n("p",{staticClass:"total"},[t._v("合计：￥"),n("span",{staticClass:"price"},[t._v(t._s(t.total))])]),n("button",{staticClass:"btn",on:{click:t.pay}},[t._v("去支付")])])],1)},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"address"},[n("h3",{staticClass:"store-title"},[t._v("蚨来咖啡上海总店")]),n("p",{staticClass:"store-content"},[t._v("上海市-静安区-万荣路-大宁中心广场B6")])])}],i=(n("99af"),n("4160"),n("fb6a"),n("b0c0"),n("a9e3"),n("d3b7"),n("ac1f"),n("25f0"),n("5319"),n("159b"),n("5530")),a=(n("e5f5"),n("2f62")),o=n("2f14"),c={data:function(){return{sids:this.$route.query.sids,goodsList:[],isTake:!0,showRemarks:!1,message:"",isShow:!1,chosenAddressId:"",list:[],currentAddress:{},currentTime:"",total:0}},created:function(){this.getCurrentTime(),this.findAddress(),this.findShopcart()},methods:{getCurrentTime:function(){var t=new Date,e=t.getHours(),n=t.getMinutes(),r="";Number(n)+5<60?(n+=5,1===n.toString().length&&(n="0"+n),r="".concat(t.getHours(),":").concat(n)):(n="".toString(Number(n)+5),console.log(n),n="0"+n.slice(1),console.log(n),e=Number(e)+1,r="".concat(e,":").concat(n)),console.log(r),this.currentTime=r},pay:function(){var t=this;if(this.getToken){this.$toast({type:"loading",message:"加载中",forbidClick:!0,loadingType:"spinner",duration:0});var e=this.isTake?"-自提":"-外送",n=o["a"].queryString({appkey:this.appkey,tokenString:this.getToken,sids:JSON.stringify(this.sids),phone:this.currentAddress.tel,address:this.currentAddress.address,receiver:this.currentAddress.name+e});this.axios({method:"POST",url:"/pay",data:n}).then((function(e){t.$toast.clear(),console.log(e),t.$toast(e.data.msg),6e4===e.data.code&&t.$router.replace({name:"Order"})})).catch((function(e){t.$toast.clear(),console.log(e)}))}else this.$router.push({name:"Login"})},findShopcart:function(){var t=this;if(this.getToken){Array.isArray(this.sids)||(this.sids=[this.sids]);var e={appkey:this.appkey,tokenString:this.getToken,sids:JSON.stringify(this.sids)};this.$toast({type:"loading",message:"加载中",forbidClick:!0,loadingType:"spinner",duration:0}),this.axios({method:"GET",url:"/commitShopcart",params:e}).then((function(e){t.$toast.clear(),console.log(e),5e4===e.data.code&&(e.data.result.forEach((function(e){t.total+=e.count*e.price})),t.goodsList=e.data.result)})).catch((function(e){t.$toast.clear(),console.log(e)}))}else this.$router.push({name:"Login"})},select:function(t){this.currentAddress=t,this.isShow=!1},increaseAddress:function(){this.$router.push({name:"Address"})},showAddress:function(){this.isShow=!0},findAddress:function(){var t=this;if(this.getToken){var e={appkey:this.appkey,tokenString:this.getToken};this.$toast({type:"loading",message:"加载中",forbidClick:!0,loadingType:"spinner",duration:0}),this.axios({method:"GET",url:"/findAddress",params:e}).then((function(e){t.$toast.clear(),console.log(e);var n=[];2e4===e.data.code&&(e.data.result.forEach((function(e){var r=e.province===e.city?e.province:e.province+e.city;e.address="".concat(r).concat(e.county).concat(e.addressDetail),1===e.isDefault?(t.chosenAddressId=e.id,t.currentAddress=e,n.unshift(e)):n.push(e)})),t.list=n)})).catch((function(e){t.$toast.clear(),console.log(e)}))}else this.$router.push({name:"Login"})}},computed:Object(i["a"])({},Object(a["b"])(["getToken"]))},u=c,f=n("2877"),l=Object(f["a"])(u,r,s,!1,null,null,null);e["default"]=l.exports},8418:function(t,e,n){"use strict";var r=n("c04e"),s=n("9bf2"),i=n("5c6c");t.exports=function(t,e,n){var a=r(e);a in t?s.f(t,a,i(0,n)):t[a]=n}},"99af":function(t,e,n){"use strict";var r=n("23e7"),s=n("d039"),i=n("e8b5"),a=n("861d"),o=n("7b0b"),c=n("50c4"),u=n("8418"),f=n("65f0"),l=n("1dde"),d=n("b622"),p=n("2d00"),h=d("isConcatSpreadable"),b=9007199254740991,v="Maximum allowed index exceeded",g=p>=51||!s((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),y=l("concat"),m=function(t){if(!a(t))return!1;var e=t[h];return void 0!==e?!!e:i(t)},w=!g||!y;r({target:"Array",proto:!0,forced:w},{concat:function(t){var e,n,r,s,i,a=o(this),l=f(a,0),d=0;for(e=-1,r=arguments.length;e<r;e++)if(i=-1===e?a:arguments[e],m(i)){if(s=c(i.length),d+s>b)throw TypeError(v);for(n=0;n<s;n++,d++)n in i&&u(l,d,i[n])}else{if(d>=b)throw TypeError(v);u(l,d++,i)}return l.length=d,l}})},a4d3:function(t,e,n){"use strict";var r=n("23e7"),s=n("da84"),i=n("d066"),a=n("c430"),o=n("83ab"),c=n("4930"),u=n("fdbf"),f=n("d039"),l=n("5135"),d=n("e8b5"),p=n("861d"),h=n("825a"),b=n("7b0b"),v=n("fc6a"),g=n("c04e"),y=n("5c6c"),m=n("7c73"),w=n("df75"),k=n("241c"),O=n("057f"),C=n("7418"),S=n("06cf"),_=n("9bf2"),A=n("d1e7"),T=n("9112"),j=n("6eeb"),x=n("5692"),N=n("f772"),E=n("d012"),I=n("90e3"),P=n("b622"),$=n("e538"),D=n("746f"),R=n("d44e"),F=n("69f3"),L=n("b727").forEach,M=N("hidden"),J="Symbol",G="prototype",V=P("toPrimitive"),q=F.set,X=F.getterFor(J),H=Object[G],U=s.Symbol,Y=i("JSON","stringify"),B=S.f,Q=_.f,W=O.f,z=A.f,K=x("symbols"),Z=x("op-symbols"),tt=x("string-to-symbol-registry"),et=x("symbol-to-string-registry"),nt=x("wks"),rt=s.QObject,st=!rt||!rt[G]||!rt[G].findChild,it=o&&f((function(){return 7!=m(Q({},"a",{get:function(){return Q(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=B(H,e);r&&delete H[e],Q(t,e,n),r&&t!==H&&Q(H,e,r)}:Q,at=function(t,e){var n=K[t]=m(U[G]);return q(n,{type:J,tag:t,description:e}),o||(n.description=e),n},ot=u?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof U},ct=function(t,e,n){t===H&&ct(Z,e,n),h(t);var r=g(e,!0);return h(n),l(K,r)?(n.enumerable?(l(t,M)&&t[M][r]&&(t[M][r]=!1),n=m(n,{enumerable:y(0,!1)})):(l(t,M)||Q(t,M,y(1,{})),t[M][r]=!0),it(t,r,n)):Q(t,r,n)},ut=function(t,e){h(t);var n=v(e),r=w(n).concat(ht(n));return L(r,(function(e){o&&!lt.call(n,e)||ct(t,e,n[e])})),t},ft=function(t,e){return void 0===e?m(t):ut(m(t),e)},lt=function(t){var e=g(t,!0),n=z.call(this,e);return!(this===H&&l(K,e)&&!l(Z,e))&&(!(n||!l(this,e)||!l(K,e)||l(this,M)&&this[M][e])||n)},dt=function(t,e){var n=v(t),r=g(e,!0);if(n!==H||!l(K,r)||l(Z,r)){var s=B(n,r);return!s||!l(K,r)||l(n,M)&&n[M][r]||(s.enumerable=!0),s}},pt=function(t){var e=W(v(t)),n=[];return L(e,(function(t){l(K,t)||l(E,t)||n.push(t)})),n},ht=function(t){var e=t===H,n=W(e?Z:v(t)),r=[];return L(n,(function(t){!l(K,t)||e&&!l(H,t)||r.push(K[t])})),r};if(c||(U=function(){if(this instanceof U)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=I(t),n=function(t){this===H&&n.call(Z,t),l(this,M)&&l(this[M],e)&&(this[M][e]=!1),it(this,e,y(1,t))};return o&&st&&it(H,e,{configurable:!0,set:n}),at(e,t)},j(U[G],"toString",(function(){return X(this).tag})),j(U,"withoutSetter",(function(t){return at(I(t),t)})),A.f=lt,_.f=ct,S.f=dt,k.f=O.f=pt,C.f=ht,$.f=function(t){return at(P(t),t)},o&&(Q(U[G],"description",{configurable:!0,get:function(){return X(this).description}}),a||j(H,"propertyIsEnumerable",lt,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:U}),L(w(nt),(function(t){D(t)})),r({target:J,stat:!0,forced:!c},{for:function(t){var e=String(t);if(l(tt,e))return tt[e];var n=U(e);return tt[e]=n,et[n]=e,n},keyFor:function(t){if(!ot(t))throw TypeError(t+" is not a symbol");if(l(et,t))return et[t]},useSetter:function(){st=!0},useSimple:function(){st=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!o},{create:ft,defineProperty:ct,defineProperties:ut,getOwnPropertyDescriptor:dt}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:pt,getOwnPropertySymbols:ht}),r({target:"Object",stat:!0,forced:f((function(){C.f(1)}))},{getOwnPropertySymbols:function(t){return C.f(b(t))}}),Y){var bt=!c||f((function(){var t=U();return"[null]"!=Y([t])||"{}"!=Y({a:t})||"{}"!=Y(Object(t))}));r({target:"JSON",stat:!0,forced:bt},{stringify:function(t,e,n){var r,s=[t],i=1;while(arguments.length>i)s.push(arguments[i++]);if(r=e,(p(e)||void 0!==t)&&!ot(t))return d(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!ot(e))return e}),s[1]=e,Y.apply(null,s)}})}U[G][V]||T(U[G],V,U[G].valueOf),R(U,J),E[M]=!0},a9e3:function(t,e,n){"use strict";var r=n("83ab"),s=n("da84"),i=n("94ca"),a=n("6eeb"),o=n("5135"),c=n("c6b6"),u=n("7156"),f=n("c04e"),l=n("d039"),d=n("7c73"),p=n("241c").f,h=n("06cf").f,b=n("9bf2").f,v=n("58a8").trim,g="Number",y=s[g],m=y.prototype,w=c(d(m))==g,k=function(t){var e,n,r,s,i,a,o,c,u=f(t,!1);if("string"==typeof u&&u.length>2)if(u=v(u),e=u.charCodeAt(0),43===e||45===e){if(n=u.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:r=2,s=49;break;case 79:case 111:r=8,s=55;break;default:return+u}for(i=u.slice(2),a=i.length,o=0;o<a;o++)if(c=i.charCodeAt(o),c<48||c>s)return NaN;return parseInt(i,r)}return+u};if(i(g,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var O,C=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof C&&(w?l((function(){m.valueOf.call(n)})):c(n)!=g)?u(new y(k(e)),n,C):k(e)},S=r?p(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;S.length>_;_++)o(y,O=S[_])&&!o(C,O)&&b(C,O,h(y,O));C.prototype=m,m.constructor=C,a(s,g,C)}},ade3:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return r}))},b0c0:function(t,e,n){var r=n("83ab"),s=n("9bf2").f,i=Function.prototype,a=i.toString,o=/^\s*function ([^ (]*)/,c="name";r&&!(c in i)&&s(i,c,{configurable:!0,get:function(){try{return a.call(this).match(o)[1]}catch(t){return""}}})},b64b:function(t,e,n){var r=n("23e7"),s=n("7b0b"),i=n("df75"),a=n("d039"),o=a((function(){i(1)}));r({target:"Object",stat:!0,forced:o},{keys:function(t){return i(s(t))}})},bee2:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,"a",(function(){return s}))},d4ec8:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return r}))},dbb4:function(t,e,n){var r=n("23e7"),s=n("83ab"),i=n("56ef"),a=n("fc6a"),o=n("06cf"),c=n("8418");r({target:"Object",stat:!0,sham:!s},{getOwnPropertyDescriptors:function(t){var e,n,r=a(t),s=o.f,u=i(r),f={},l=0;while(u.length>l)n=s(r,e=u[l++]),void 0!==n&&c(f,e,n);return f}})},e439:function(t,e,n){var r=n("23e7"),s=n("d039"),i=n("fc6a"),a=n("06cf").f,o=n("83ab"),c=s((function(){a(1)})),u=!o||c;r({target:"Object",stat:!0,forced:u,sham:!o},{getOwnPropertyDescriptor:function(t,e){return a(i(t),e)}})},e538:function(t,e,n){var r=n("b622");e.f=r},e5f5:function(t,e,n){},fb6a:function(t,e,n){"use strict";var r=n("23e7"),s=n("861d"),i=n("e8b5"),a=n("23cb"),o=n("50c4"),c=n("fc6a"),u=n("8418"),f=n("b622"),l=n("1dde"),d=n("ae40"),p=l("slice"),h=d("slice",{ACCESSORS:!0,0:0,1:2}),b=f("species"),v=[].slice,g=Math.max;r({target:"Array",proto:!0,forced:!p||!h},{slice:function(t,e){var n,r,f,l=c(this),d=o(l.length),p=a(t,d),h=a(void 0===e?d:e,d);if(i(l)&&(n=l.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?s(n)&&(n=n[b],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return v.call(l,p,h);for(r=new(void 0===n?Array:n)(g(h-p,0)),f=0;p<h;p++,f++)p in l&&u(r,f,l[p]);return r.length=f,r}})}}]);
//# sourceMappingURL=chunk-7831ff52.2f3892d9.js.map